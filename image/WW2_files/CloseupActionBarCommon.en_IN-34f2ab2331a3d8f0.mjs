"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[21177],{411829:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupCommentButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"CommentsPopover_pin"},{args:null,kind:"FragmentSpread",name:"useIsInCloseupShoppingRefinementsExp_pin"}],type:"Pin",abstractKey:null};i.hash="3d1d4611865160c21208a3565b935491";let n=i},359908:(e,t,a)=>{var i,n;a.r(t),a.d(t,{default:()=>s});let o=(n=[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentsPopover_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null});o.hash="d99df18acf9730657c3414ec638076b8";let s=o},754318:(e,t,a)=>{var i;a.r(t),a.d(t,{default:()=>o});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCanPerformAction_board",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null}],type:"Board",abstractKey:null};n.hash="416539a057718ff36ac5d9d06916c2d4";let o=n},374645:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ep});var i,n,o=a(667294),s=a(616550),l=a(883119);a(422578);var r=a(545007);a(244311);var d=a(738390),c=a(144326),p=a(785893);function u({setIsOpen:e}){let t=(0,c.ZP)(),a=t.bt("Close comments popover", "Close comments popover", "closeup.commentsPopover.heading.close", undefined, true),i=t.bt("Comments", "Comments", "closeup.commentsPopover.heading", undefined, true);return(0,p.jsx)(l.xu,{"data-test-id":"comments-popover-heading",children:(0,p.jsxs)(l.kC,{alignItems:"center",direction:"row",gap:1,justifyContent:"start",children:[(0,p.jsx)(l.hU,{accessibilityLabel:a,icon:"cancel",onClick:()=>{e(!1)},padding:3,size:"md"}),(0,p.jsx)(l.X6,{size:"400",children:i})]})})}var m=a(909483),g=a(321853),h=a(642593),_=a(622468),y=a(573706),x=a(194093),b=a(476198),v=a(267005),f=a(901450),w=a(383399),k=a(501912),A=a(801621),P=a(733383),S=a(642758),j=a(536385),C=a(367131),I=a(384609),Z=a(730212),F=a(961754),T=a(625987),B=a(115642),E=a(45296),R=a(732222),D=a(433788);let z=void 0!==i?i:i=a(359908);function K({anchorRef:e,pinKey:t,setIsOpen:a,viewParameter:i}){let n=(0,c.ZP)(),s=(0,T.lV)(),K=(0,k.Z)(),L=(0,I.Z)(z,t),O=(0,w.Z)(),{clientTrackingParams:M}=(0,B.x4)(),{handleAddComment:H}=function(){let e=(0,r.I0)(),t=(0,_.Z)(),{logContextEvent:a}=(0,y.v)(),{showOneToast:i}=(0,f.F9)(),n=(0,w.Z)(),o=(0,k.Z)(),s=(0,A.lJ)(n,o),l=(0,c.ZP)();return{handleAddComment:async function(o,r,d,c,u,m,g,_){let{commentMedia:y,contentMarkdown:f,force:w,imageSignatures:k,tags:A}=o;if(!r)return!1;try{if(r){if(k.length){let t={aggregatedPinDataId:r,details:f,image_signatures:k,pin_id:d??"",username:n.username||"",fromUnifiedComment:!0};await e((0,S.DD)(t))}else await t({commentMedia:y,force:w,fromUnifiedComment:!0,objectType:P.o.pin,objectId:r,pinId:d,tags:A,text:f,orbacSubjectId:s});a({event_type:7,clientTrackingParams:m,object_id_str:d,aux_data:{num_user_mention_tags:(A?JSON.parse(A):[]).length,...c?{creator_id:u,story_pin_data_id:c}:{}}})}}catch(e){return[v.ky,v.LJ].includes((0,x.Z)(e,"api_error_code")??0)?g((0,x.Z)(e,"api_error_code")===v.ky?h.A9.WARNING:h.A9.BLOCK):i(({hideToast:t})=>(0,p.jsx)(b.Z,{onHide:t,text:(0,x.Z)(e,"message_detail")||(0,x.Z)(e,"message")||l.bt("There was an issue posting your comment.", "There was an issue posting your comment.", "comment.post.errorMessage", undefined, true),type:"error"})),!1}return _(!1),!0}}}(),{isBot:U}=(0,Z.B)(),W=(0,o.useRef)(null),[G,q]=(0,o.useState)(h.A9.NONE),[N,Y]=(0,o.useState)(!1),[V,J]=(0,o.useState)(void 0),X=n.bt("Comments popover", "Comments popover", "closeup.commentsPopover", undefined, true),{aggregatedPinData:$,closeupAttribution:Q,commentsDisabled:ee,doneByMe:et,entityId:ea,isEligibleForAggregatedComments:ei,pinner:en,privacy:eo,storyPinData:es,videos:el}=L||{},{commentCount:er,entityId:ed}=$||{},{entityId:ec,username:ep}=Q||{},{entityId:eu}=en||{},{entityId:em}=es||{},{videoList:eg}=el||{},eh=(0,r.v9)(e=>(0,D.Z)(e,{aggregatedPinDataId:ed,aggregatedComments:s})),e_=(er??0)>0,ey=(0,m.K)(),ex=(0,A.lJ)(O,K),{toggleCommentLike:eb,toggleCommentHelpful:ev}=(0,j.Z)(ex),ef=!((0,A.q6)(O,eu,K)&&!ex)&&!ee&&!!ei,{fetchMore:ew,isAtEnd:ek,isFetching:eA,isLoaded:eP}=(0,F.Z)(e_&&ed?(0,E.B)({aggregatedPinDataId:ed,featuredCommentIds:ey?[ey]:[],isDesktop:!0,orbacSubjectId:ex}):null);async function eS(e){return H(e,ed,ea,em,ec,M,q,Y)}return(0,p.jsx)(l.xu,{"data-test-id":"comments-popover",children:(0,p.jsx)(l.mh,{zIndex:new l.H3([R.k]),children:(0,p.jsx)(l.J2,{accessibilityLabel:X,anchor:e.current,idealDirection:"down",onDismiss:()=>{a(!1)},size:"flexible",children:(0,p.jsxs)(l.xu,{width:375,children:[(0,p.jsx)(l.xu,{marginBottom:8,marginStart:1,marginTop:8,children:(0,p.jsx)(u,{setIsOpen:a})}),(0,p.jsxs)(l.xu,{marginEnd:4,marginStart:4,children:[(0,p.jsx)(l.gr,{container:W.current??void 0,fetchMore:U?void 0:ew,isAtEnd:ek,isFetching:eA}),(0,p.jsx)(g.Z,{aggregatedPinDataId:ed,closeupAttributionId:ec,closeupAttributionUsername:ep,comments:eh,commentsDisabled:ee,commentsScrollContainerRef:W,isDesktop:!0,isLoaded:eP||!e_,isLoading:!eP&&eA,isVideo:!!eg,parentId:ed??void 0,parentType:P.o.pin,pinId:ea,pinnerId:eu,reactionListCommentId:V,showReactionListForComment:J,storyPinDataId:em,toggleHelpful:ev,toggleLike:eb,userAvatarSize:h.je,viewParameter:i})]}),(0,p.jsx)(d.Z,{show:!0,surface:"comment-popover"}),ef&&(0,p.jsx)(l.xu,{marginBottom:3,marginEnd:4,marginStart:4,marginTop:6,children:(0,p.jsx)(C.Z,{clientTrackingParams:M,commentCount:er??0,commentWarningModalState:G,disablePhotoCommentSelection:!!et,dismissCommentWarningModal:()=>q(h.A9.NONE),objectType:P.o.pin,onAddItem:eS,onCancelItem:()=>Y(!1),onEnter:()=>Y(!0),pinId:ea,privatePin:"secret"===eo,showCommentComposer:!0,statusType:N?"textInflightCreation":"textStaticDisplay",viewParameter:i})})]})})})})}var L=a(775725),O=a(5629),M=a(297728),H=a(584288);let U=void 0!==n?n:n=a(411829);function W({openCommentThreadOnClick:e,pinKey:t,viewParameter:a,viewType:i}){let n=(0,c.ZP)(),s=(0,H.t)(),r=(0,I.Z)(U,t),{checkExperiment:d}=(0,M.F)(),{setIsCommentThreadExpanded:u}=(0,B.x4)(),{logContextEvent:m}=(0,y.v)(),{isInCloseupShoppingRefinementsExp:g}=(0,L.Z)({pinKey:r}),h=(0,o.useRef)(null),[_,x]=(0,o.useState)(!1),b=n.bt("Comment", "Comment", "Closeup.Comment.Icon", undefined, true),v=()=>{m({component:13464,element:2,event_type:10554,view_parameter:a,view_type:i})},f=()=>{let e=document.getElementById("canonical-card"),t=g&&document.querySelector('[data-root-margin="search-one-bar"]'),a=O.Lu+O.uS,i=32;t&&(i+=a);let n=s+i;if(e){let t=e.getBoundingClientRect().top+window.scrollY-n;window.scrollTo({top:t,behavior:"smooth"})}};return(0,p.jsxs)(l.xu,{children:[_&&(0,p.jsx)(K,{anchorRef:h,pinKey:r,setIsOpen:x,viewParameter:a}),(0,p.jsx)(l.hU,{ref:h,accessibilityLabel:b,icon:"speech-outline",onClick:()=>{"enabled_popover"===d("ce_dweb_new_closeup_comment_module").group?_?x(!1):(x(!0),v()):(f(),e&&(u?.(!0),v()))},size:"lg",tooltip:{text:b}})]})}var G=a(301916),q=a(510526),N=a(629586),Y=a(656412),V=a(452639),J=a(873725),X=a(477058),$=a(602185),Q=a(357013),ee=a(995497),et=a(868808),ea=a(590045),ei=a(167210),en=a(241716),eo=a(993641),es=a(964973);let el=(0,es.Z)(()=>Promise.all([a.e(88755),a.e(73777),a.e(47442)]).then(a.bind(a,243789)),void 0,e=>243789,"SaveAffordance"),er=(0,es.Z)(()=>Promise.resolve().then(a.bind(a,241925)),void 0,e=>241925,"SecondarySendButtonCommon"),ed=(0,es.Z)(()=>Promise.all([a.e(97270),a.e(73583),a.e(24859)]).then(a.bind(a,373583)),void 0,e=>373583,"ReactionPickerContainer"),ec=new l.Ry(5);function ep({goBack:e,gridDescription:t,isDeletedStoryPin:a,isEligibleForPinReactions:i,isOnSecretBoard:n,onEditSubmit:r,pin:d,viewParameter:u,viewType:m,onSaveButtonClick:g,showRepinOnInitialRender:h,isStoryPin:_,actionBarContainerRef:y,outerPaddingSize:x=ea.g9,maxWidth:b,showLeadPin:v}){let f=(0,c.ZP)(),P=(0,s.TH)(),S=(0,k.Z)(),{checkExperiment:j}=(0,M.F)(),{showEnabledSaveBehavior:C}=(0,eo.Yh)(!0),{imgSrc:I}=(0,V.r)(),{clientTrackingParams:F,isCloseupRelatedPinsAboveTheFoldEnabled:T,showCloseupContentRight:E,closeupWithinMasonryEnabled:R,peekCloseupEnabled:D}=(0,B.x4)(),{viewType:z,viewParameter:K}=(0,X.SU)(),L=(0,w.Z)(),O=(0,A.q6)(L,d?.pinner?.id,S),[H,U]=(0,o.useState)(!!(0,et.mB)(P.search).share),[es,ep]=(0,o.useState)(!1),eu=(0,o.useCallback)(e=>ep(e),[]),em=(0,o.useCallback)(()=>U(!1),[]),eg=(0,o.useCallback)(()=>U(e=>!e),[]),eh=d.board?.owner?.id||d.pinner?.id,{access:e_=[],aggregated_pin_data:ey,comments_disabled:ex,favorited_by_me:eb,reaction_counts:ev,section:ef}=d,ew=d?.board,{canPerformAction:ek}=(0,J.Z)({boardKey:null!=ew?{type:"deprecated",data:ew}:null}),{isRTL:eA}=(0,Z.B)(),eP=ek({action:4,viewer:L})||e_.includes("write")||e_.includes("delete")||O,eS=R?b:b||ea.Gg,ej=(0,Y.Z)({pinKey:{type:"deprecated",data:d},orbacActingAs:S,viewer:L}),eC=!!Object.keys(ev||{}).length,eI=!a&&ej,eZ=ey?.did_it_data?.images_count??0,eF=(ey?.comment_count??0)+eZ,eT=!ex&&!!eF&&j("ce_dweb_comment_button_with_comment_count").anyEnabled,eB=P.state?.fromEggsBoard,eE=n||a?null:(0,p.jsx)($.Z,{name:"CloseupActionBar_SecondarySendButton",children:(0,p.jsx)(er,{closeupWithinMasonryEnabled:R,controllerOptions:{flyoutDisplayOptions:R?{shownWithinProfileHeader:!0,idealDirection:"down",forceDirection:!0}:{wrapperPosition:"fixed"},isFlyoutOpen:H,loggingOptions:{component:194,element:72,viewParameter:u||K,viewType:m||z},onFlyoutDismiss:em,onToggleFlyout:eg,sendObject:{type:"pin",description:t,id:d.id,imageUrl:I,ownerId:eh,url:`/pin/${d.id}/`,clientTrackingParams:F}}})}),eR=(0,p.jsx)(l.xu,{alignItems:"center",color:R?"transparent":"default","data-test-id":"closeup-action-items",display:"flex",justifyContent:"between",maxWidth:eS,rounding:2,children:(0,p.jsxs)(l.kC,{alignItems:"stretch",gap:R?2:0,justifyContent:"start",children:[!O&&!!i&&(0,p.jsx)($.Z,{name:"CloseupActionBar_ReactionPickerContainer",children:(0,p.jsxs)(l.xu,{alignItems:"center",display:"flex",marginEnd:eC?2:0,children:[(0,p.jsx)(ed,{clientTrackingParams:F,handleReactionTrayHover:eu,idealDirection:R?"down":void 0,pinId:d.id,reactionButtonSize:48,reactionByMe:d.reaction_by_me,reactionIconSize:20,showTooltip:!0,viewParameter:u,viewType:m}),(0,p.jsx)(ee.Z,{pinId:d.id,reactionCounts:ev,showPrettyNumber:!0})]})}),R&&(0,p.jsxs)(l.kC,{alignItems:"center",direction:"row",children:[(0,p.jsx)(W,{openCommentThreadOnClick:eT,pinKey:{type:"deprecated",data:d},viewParameter:u,viewType:m}),eT&&(0,p.jsx)(l.xv,{weight:"bold",children:(0,p.jsx)(Q.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:eF})})]}),eE,(0,p.jsx)(l.xu,{children:(0,p.jsx)(l.xu,{"data-test-id":"closeup-more-options",children:(0,p.jsx)(q.Z,{carouselSlotCurrentIndex:d&&d.carousel_data&&d.carousel_data.index,clientTrackingParams:F,closeupWithinMasonryEnabled:R,goBack:e,isReactionTrayOpen:es,onEditSubmit:r,pinKey:{type:"deprecated",data:d},showEditPin:eI,viewParameter:u,viewType:m})})}),eP&&!eI&&!T&&(0,p.jsx)(l.xu,{marginEnd:1,children:(0,p.jsx)(G.Z,{carouselSlotCurrentIndex:d&&d.carousel_data&&d.carousel_data.index,clientTrackingParams:F,onSubmit:r,pinId:d.id,view:3,viewParameter:u})}),!O&&eI&&!T&&(0,p.jsx)(l.xu,{"data-test-id":"closeup-favorite-button",children:(0,p.jsx)(l.u,{inline:!0,text:f.bt("Favourite", "Favorite", "Closeup.Favorite.Icon", undefined, true),zIndex:ec,children:(0,p.jsx)(N.Z,{board:ew,favorited:!!eb,pinId:d.id,section:ef})})})]})}),eD=R?void 0:x,ez=(0,p.jsx)(l.xu,{ref:y,color:"default",dangerouslySetInlineStyle:{__style:{paddingTop:x/2,paddingRight:eA?void 0:eD,paddingLeft:eA?eD:void 0,paddingBottom:R?x/2:void 0,borderRadius:_?"0px 32px 32px 32px":E?"0px 32px 32px 0":void 0}},"data-test-id":"closeup-body-sticky-content",marginTop:R?0:_?-5:0,minHeight:T?void 0:60+x,width:R?"100%":void 0,children:(0,p.jsx)(l.xu,{"data-test-id":"closeupActionBar",children:(0,p.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"between",children:[eR,(0,p.jsx)(l.kC,{alignItems:"center",gap:2,children:!a&&!O&&(0,p.jsx)(l.xu,{marginStart:R?0:3,children:(0,p.jsx)(el,{boardCount:L.isAuth?L.boardCount:0,clientTrackingParams:F,fromEggsBoard:eB||!1,onClickCallback:g,pin:d,showEnabledSaveBehavior:C,showRepinOnInitialRender:h,variant:"closeup",viewParameter:u,viewType:m})})})]})})});if(v||R)return ez;let eK=_&&!D?en.cI+4:en.hu;return D&&(eK=0),(0,p.jsx)(l.Le,{top:eK,zIndex:ei.mS,children:ez})}},5629:(e,t,a)=>{a.d(t,{EA:()=>r,G4:()=>d,JC:()=>o,KC:()=>l,Lu:()=>i,TY:()=>u,WU:()=>p,aI:()=>c,jf:()=>s,uS:()=>n});let i=58,n=12,o=3,s=8,l=(e,t,a)=>{let i=[];return(e&&t||!e&&a)&&i.push("linear-gradient(to left, #FFFFFF, rgba(255,255,255,0) 40px)"),(e&&a||!e&&t)&&i.push("linear-gradient(to right, #FFFFFF, rgba(255,255,255,0) 40px)"),i.join(",")},r=32,d={display:{backgroundColorHex:["#efefef","#292929"],selectedBackgroundColorHex:["#292929"],icon:3,textColorHex:["#111111","#ffffff"],selectedTextColorHex:["#ffffff"]},moduleType:0,id:""},c=-1,p=120,u={moduleType:-1,id:""}},873725:(e,t,a)=>{a.d(t,{P:()=>r,Z:()=>c});var i,n=a(667294);a(167912);var o=a(265780),s=a(934397),l=a(384609);let r=e=>{let{action:t,viewer:a,board:i}=e;return!!i&&((0,o.Z)(a,i.owner?.entityId)||(0,s.Z)(i.collaboratedByMe,a)&&!!i.collaboratorPermissions?.includes(t))},d=void 0!==i?i:i=a(754318);function c({boardKey:e}){let t=(0,l.Z)(d,e),a=t?.owner?.entityId??"",i=(0,n.useMemo)(()=>t?.collaboratorPermissions,[t?.entityId]);return{canPerformAction:(0,n.useCallback)(({action:e,viewer:n})=>r({action:e,viewer:n,board:{collaboratedByMe:t?.collaboratedByMe,collaboratorPermissions:i,owner:a?{entityId:a}:null}}),[t?.collaboratedByMe,i,a])}}},995497:(e,t,a)=>{a.d(t,{Z:()=>_});var i=a(667294),n=a(883119),o=a(923952),s=a(488792),l=a(357013),r=a(144326),d=a(104778),c=a(755349),p=a(750077),u=a(785893);function m(e,t,a){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let g=(0,i.lazy)(()=>a.e(17631).then(a.bind(a,717631)));class h extends i.PureComponent{constructor(...e){super(...e),m(this,"state",{displayAggregationModal:!1}),m(this,"showAggregationModal",()=>{let{disableModal:e,logContextEvent:t}=this.props;e||(this.setState({displayAggregationModal:!0}),t({event_type:101,view_type:3,view_parameter:139,component:13458,element:11435,aux_data:{objectId:this.props.pinId}}))}),m(this,"hideAggregationModal",()=>{this.setState({displayAggregationModal:!1})})}render(){let{displayAggregationModal:e}=this.state,{isBold:t,isStoryPin:a,paddingY:i,pinId:s,reactionCounts:r,showPrettyNumber:m}=this.props,h=r?(0,c.At)(r):null,_=r?(0,c.Ud)(r):0,y=!!h&&h.length>0&&h.filter(e=>!!d.GY[e]).map((e,t)=>{let a=e&&d.GY[e]?d.GY[e]:"",{label:i,gridAsset:o}=(0,d.fW)(a,this.props.i18n);return(0,u.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,u.jsx)(n.xu,{height:19,width:19,children:o&&(0,u.jsx)(n.Ee,{alt:i??"",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})})},t)});return(0,u.jsxs)(n.xu,{children:[(0,u.jsx)(n.iP,{accessibilityLabel:`${_} reactions`,dataTestId:"reactions-count-button",onTap:this.showAggregationModal,children:!!y&&(0,u.jsx)(n.xu,{"data-test-id":"aggregated-reactions-container",display:"inlineBlock",children:m?(0,u.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{cursor:"pointer"}},children:(0,u.jsx)(n.xv,{weight:"bold",children:(0,u.jsx)(l.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:_})})}):(0,u.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{cursor:"pointer"}},"data-test-id":"aggregated-reactions-container",direction:"row",display:"flex",height:a?"auto":19,paddingY:i??(a?0:6),children:[(0,u.jsx)(n.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:y}),(0,u.jsx)(n.xu,{paddingX:1,children:(0,u.jsx)(n.xv,{color:t?"default":"subtle",size:o.n,weight:t?"bold":"normal",children:(0,u.jsx)(l.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:_})})})]})})}),e&&_&&(0,u.jsx)(p.Z,{children:(0,u.jsx)(g,{aggregatedReactions:y,onDismiss:this.hideAggregationModal,pinId:s,totalReactionCount:_})})]})}}m(h,"defaultProps",{isBold:!0});let _=function(e){let t=(0,r.ZP)(),a=(0,s.Z)();return(0,u.jsx)(h,{...e,i18n:t,logContextEvent:a})}},104778:(e,t,a)=>{a.d(t,{GY:()=>f,Jg:()=>v,fW:()=>w});var i=a(141594),n=a(42966),o=a(721366),s=a(252739),l=a(725170),r=a(921028),d=a(590755),c=a(861374),p=a(805525),u=a(736929),m=a(616097),g=a(486722),h=a(692984),_=a(808532),y=a(37260),x=a(308220),b=a(446649);let v=["goodIdea","love","thanks","wow","haha"],f={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},w=(e,t,a="darkGray")=>{let v={default:{staticAsset:"white"===a?m:u},goodIdea:{staticAsset:o,animatedAsset:i,gridAsset:n,label:t.bt("Good idea", "Good idea", "Reaction label to tell a creator that their pin is a good idea", undefined, true),htmlStyle:`
    @keyframes play90 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -3600px 0px;
        }
    }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:7},haha:{staticAsset:r,animatedAsset:s,gridAsset:l,label:t.bt("Ha-ha", "Haha", "Reaction label to tell a creator that the pinner laughed because of their pin", undefined, true),htmlStyle:`
    @keyframes play60 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -2400px 0px;
        }
    }
    `,animationStyle:"play60 2000ms steps(60) infinite forwards",type:5},love:{staticAsset:p,animatedAsset:d,gridAsset:c,label:t.bt("Love", "Love", "Reaction label to tell a creator that the pinner loved their pin", undefined, true),htmlStyle:`
    @keyframes play90 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -3600px 0px;
        }
    }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:1},thanks:{staticAsset:_,animatedAsset:g,gridAsset:h,label:t.bt("Thanks", "Thanks", "Reaction label to tell a creator thank you", undefined, true),htmlStyle:`
    @keyframes play60 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -2400px 0px;
        }
    }
    `,animationStyle:"play60 2000ms steps(60) infinite forwards",type:13},wow:{staticAsset:b,animatedAsset:y,gridAsset:x,label:t.bt("Wow", "Wow", "Reaction label to tell a creator that the pinner was wowed by their pin", undefined, true),htmlStyle:`
    @keyframes play90 {
        0% {
        background-position: 0px 0px;
        }
        100% {
        background-position: -3600px 0px;
        }
    }
    `,animationStyle:"play90 3000ms steps(90) infinite forwards",type:11}};return e&&v[e]?v[e]:v.default}},993641:(e,t,a)=>{a.d(t,{ZP:()=>r,tY:()=>p,Xt:()=>d,$7:()=>u,Yh:()=>c});var i=a(545007),n=a(297728),o=a(961754),s=a(383399);let l={SAVE_TO_PROFILE:0,SHOW_BOARD_PICKER:1};function r(e){let t=(0,s.Z)(),a=t.isAuth&&t.id===e,{checkExperiment:i}=(0,n.F)(),l=(0,o.Z)(!t.isAuth||a?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{showEnabledSaveBehavior:a&&t.has_quicksave_board||!!(t.isAuth&&(l??{}).data?.has_quicksave_board)||(a||t.isAuth)&&!t.has_quicksave_board&&!(l??{}).data?.has_quicksave_board&&i("profile_saves_for_all").anyEnabled}}function d(e){let t=(0,s.Z)(),a=t.isAuth&&t.id===e,i=(0,o.Z)(!t.isAuth||a?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{boardlessPinsEnabled:a&&t.has_quicksave_board||!!(t.isAuth&&(i??{}).data?.has_quicksave_board)}}function c(e){let t=(0,i.I0)(),a=(0,s.Z)(),n=a.isAuth&&!!a.boardCount&&a.boardCount<5&&e,l=(0,o.Z)(n&&e?{name:"UserResource",options:{field_set_key:"save_behavior",user_id:a.isAuth&&a.id}}:null);return a.isAuth&&void 0===a.save_behavior&&l&&l.data?.id&&t({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:l.data.save_behavior}}),{showEnabledSaveBehavior:n}}function p(e){let t;let a=(0,s.Z)();return e&&(a.save_behavior===l.SAVE_TO_PROFILE?t={type:"classic"}:a.save_behavior===l.SHOW_BOARD_PICKER&&(t={type:"inline"})),{saveBehaviorType:t}}function u(){let e=(0,s.Z)();return e.isAuth&&(e?.secretBoardCount??0)>0}},141594:e=>{e.exports="https://s.pinimg.com/webapp/goodIdeaAnimated-5de05cb7.svg"},42966:e=>{e.exports="https://s.pinimg.com/webapp/goodIdeaGrid-e3e37a7f.svg"},721366:e=>{e.exports="https://s.pinimg.com/webapp/goodIdeaStatic-855554b0.svg"},252739:e=>{e.exports="https://s.pinimg.com/webapp/hahaAnimated-df9cb2fa.svg"},725170:e=>{e.exports="https://s.pinimg.com/webapp/hahaGrid-7945c718.svg"},921028:e=>{e.exports="https://s.pinimg.com/webapp/hahaStatic-28ee6e1e.svg"},590755:e=>{e.exports="https://s.pinimg.com/webapp/loveAnimated-ccd5b808.svg"},861374:e=>{e.exports="https://s.pinimg.com/webapp/loveGrid-1ec7b8e4.svg"},805525:e=>{e.exports="https://s.pinimg.com/webapp/loveStatic-31fc2a99.svg"},736929:e=>{e.exports="https://s.pinimg.com/webapp/reactionHeartOutline-24ab75a6.svg"},616097:e=>{e.exports="https://s.pinimg.com/webapp/reactionHeartOutlineWhite-61cdbdb7.svg"},486722:e=>{e.exports="https://s.pinimg.com/webapp/thanksAnimated-6831daf3.svg"},692984:e=>{e.exports="https://s.pinimg.com/webapp/thanksGrid-b3cf8b93.svg"},808532:e=>{e.exports="https://s.pinimg.com/webapp/thanksStatic-51f19932.svg"},37260:e=>{e.exports="https://s.pinimg.com/webapp/wowAnimated-b776449f.svg"},308220:e=>{e.exports="https://s.pinimg.com/webapp/wowGrid-9e62e75a.svg"},446649:e=>{e.exports="https://s.pinimg.com/webapp/wowStatic-d966adbd.svg"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/CloseupActionBarCommon.en_IN-34f2ab2331a3d8f0.mjs.map